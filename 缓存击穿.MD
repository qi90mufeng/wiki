https://www.zhihu.com/question/32163005



缓存击穿

```
重复请求不存在的数据
application ---> redis 数据不存在  --->db 也不存在
```



避免缓存击穿

```
1、要避免从数据库请求不存在的数据，要怎么做？
2、如何从海量数据中快速判断一个元素是否存在？
```



```
一个网站有100亿url存在一个黑名单中，每条url平均64字节
若此时输入一个url，如何判断该url是否存在于黑名单中？
```



布隆过滤器

```
jar包  google guava




没有删除的方法？

如果数据是亿级，可以用布隆吗？ 数据初始化太慢？


```



缓存数据一致性问题？







------

数据库性能瓶颈



```java
架构师天天干什么？
/*
1、非功能性需求设计
	程序健壮性、高可用性、扩展性。。。
2、模块分解
*/
```

```java
数据库性能瓶颈
/*
1、数据库连接

2、单表数据量大（空间存储）
	索引角度
		没有索引，全表扫描，肯定很慢
		有索引，索引机制来看，B+tree，树的高度越高，它是硬盘级IO次数就越多
	经验数据：亿级别以下的数据，建立好合适的索引，基本不需要做额外的操作	8核16G
3、硬件资源（QPS/TPS）
*/
```



```java
大数据量数据库性能瓶颈解决方案
/*
1、分库分表
	对数据的库表进行拆分，用分片方式
	垂直拆分
	水平拆分
2、读写分离
	数据库连接数
	硬件资源
*/

分区
缓存
索引
优化sql
```



mycat